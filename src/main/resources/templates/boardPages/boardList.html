<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <th:block th:replace="component/config :: config"></th:block>
</head>
<body>
<div th:replace="component/header :: header"></div>
<div th:replace="component/nav :: nav"></div>
<div id="section">
    <div class="container" id="board-list">
        <table class="table table-striped table-hover text-center">
            <tr>
                <th>id</th>
                <th>title</th>
                <th>writer</th>
                <th>date</th>
                <th>hits</th>
                <th>조회</th>
<!--                <th>수정</th>-->
<!--                <th>삭제</th>-->
            </tr>
            <tr th:each="board: ${boardList}">
                <td th:text="${board.id}"></td>
                <td><a th:href="@{|/board/${board.id}|}" th:text="${board.boardTitle}"></a></td>
                <td th:text="${board.boardWriter}"></td>
                <td th:text="${board.createdAt}"></td>
                <td th:text="${board.boardHits}"></td>
                <td>
                    <button th:onclick="board_detail([[${board.id}]])">조회</button>
                </td>
<!--                <td>-->
<!--                    <button onclick="update()">수정</button>-->
<!--                </td>-->
<!--                <td>-->
<!--                    <button th:onclick="board_delete([[${board.id}]])">삭제</button>-->
<!--                </td>-->
            </tr>
        </table>
    </div>
</div>
<div th:replace="component/footer :: footer"></div>
</body>
<script>
    const update = () => {
        location.href = "/board/update";
    }

    const board_delete = (id) => {
        axios({
            method: "delete",
            url: "/board/" + id
        }).then(res => {
            alert("삭제완료! 확인을 클릭하면 목록으로 돌아갑니다!");
            location.href = "/board/";
        }).catch(err => {
            alert("삭제실패!");
        });
    }
</script>
</html>